/* 登录遮罩层 */
.login-mask {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: var(--bg); z-index: 9999;
    display: flex; align-items: center; justify-content: center;
}
.login-box {
    background: var(--card); border: 4px solid var(--border);
    padding: 30px; width: 85%; text-align: center;
}
.login-box h2 { margin-top: 0; }
.login-box input {
    width: 100%; padding: 15px; margin: 10px 0;
    border: 2px solid var(--border); background: rgba(255,255,255,0.5);
    font-size: 18px; outline: none;
}
.login-box button {
    width: 100%; padding: 15px; background: var(--text);
    color: var(--bg); border: none; font-size: 20px; font-weight: bold;
}

/* 隐藏类 */
.hidden { display: none !important; }

/* 玩家卡片增强 */
.player-card {
    display: flex; align-items: center; gap: 15px;
    margin-bottom: 10px; padding: 15px;
    background: var(--card); border: 3px solid var(--border);
}
.avatar-circle {
    width: 60px; height: 60px; border-radius: 50%;
    background: var(--border); display: flex;
    align-items: center; justify-content: center; font-size: 30px;
}
.info { flex: 1; display: flex; flex-direction: column; text-align: left; }
.p-name { font-size: 20px; font-weight: bold; }
.p-score { font-size: 32px; font-weight: 900; }
/* --- 基础样式 --- */
* { box-sizing: border-box; transition: all 0.3s ease; }
body { margin: 0; font-family: sans-serif; height: 100vh; overflow: hidden; }
.app-container { height: 100%; display: flex; flex-direction: column; padding: 20px; }

/* --- 主题变量定义 --- */

/* 1. Y2K 千禧镭射：荧光绿 + 镭射渐变 */
.theme-y2k {
    --bg: linear-gradient(135deg, #00ff88, #00e5ff, #ff00ff);
    --card: rgba(255, 255, 255, 0.2);
    --text: #000;
    --border: #fff;
    --accent: #00ff88;
}

/* 2. 蒸汽波：粉紫霓虹 + Windows复古 */
.theme-vaporwave {
    --bg: #ff71ce;
    --card: #01cdfe;
    --text: #fff;
    --border: #b967ff;
    --accent: #05ffa1;
}

/* 3. 新中式：宣纸色 + 墨色 */
.theme-zen {
    --bg: #f4f1de;
    --card: #fff;
    --text: #3d405b;
    --border: #81b29a;
    --accent: #e07a5f;
}

/* 4. 甄嬛传：宫廷红 + 烫金 */
.theme-palace {
    --bg: #8b0000; /* 宫墙红 */
    --card: #fff5e1; /* 象牙白 */
    --text: #5a0000;
    --border: #d4af37; /* 烫金 */
    --accent: #d4af37;
}

/* --- 应用变量的布局 --- */
body { background: var(--bg); color: var(--text); }
.player-card { 
    background: var(--card); border: 4px solid var(--border); 
    border-radius: 15px; padding: 20px; text-align: center;
    box-shadow: 5px 5px 0px var(--text); /* 硬阴影风格 */
}
.theme-palace .player-card { border-radius: 0; border-style: double; } /* 宫廷版变方框 */

.log-section { background: rgba(0,0,0,0.1); flex: 1; border-top: 2px dashed var(--text); }
.theme-palace .log-title { font-family: "KaiTi", serif; }

/* 主题切换器样式 */
.theme-switcher { position: fixed; bottom: 20px; right: 20px; display: flex; gap: 5px; z-index: 1000; }
.theme-switcher button { padding: 10px; border: 1px solid #000; cursor: pointer; font-size: 12px; }
/* --- Y2K 镭射流动动画 --- */
@keyframes laserFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.theme-y2k {
    background: linear-gradient(-45deg, #00ff88, #00e5ff, #ff00ff, #ffef00);
    background-size: 400% 400%;
    animation: laserFlow 10s ease infinite;
    --card: rgba(255, 255, 255, 0.15);
    --text: #000;
    --border: #fff;
}

/* --- 甄嬛传宫廷装饰 --- */
.theme-palace {
    background: #8b0000;
    --card: #fff5e1;
    --text: #5a0000;
    --border: #d4af37;
}

.theme-palace .player-card {
    border: 6px double var(--border);
    position: relative;
    box-shadow: 0 0 15px rgba(212, 175, 55, 0.5);
}

/* 模拟烫金呼吸灯 */
@keyframes goldGlow {
    50% { box-shadow: 0 0 30px #d4af37; }
}
.theme-palace .player-card:active {
    animation: goldGlow 0.5s ease-in-out;
}
/* 玩家卡片设计 */
.player-card {
    display: flex; align-items: center; padding: 20px;
    background: rgba(255,255,255,0.1); border-radius: 15px;
    border: 2px solid var(--border); margin-bottom: 12px;
    transition: all 0.3s;
}
.player-card.me { border-color: #ff00ff; box-shadow: 0 0 15px rgba(255,0,255,0.3); }

.avatar-circle {
    width: 70px; height: 70px; border-radius: 50%;
    background: var(--border); font-size: 35px;
    display: flex; align-items: center; justify-content: center;
    margin-right: 20px; cursor: pointer;
}

.info { flex: 1; cursor: pointer; }
.p-name { font-size: 18px; opacity: 0.8; }
.p-score { font-size: 40px; font-weight: 900; font-family: 'Courier New', monospace; }
.p-score.plus { color: #00ff00; }
.p-score.minus { color: #ff0000; }

/* 流水列表区隔 */
.log-item {
    padding: 10px; border-bottom: 1px dashed var(--border);
    font-size: 14px; color: var(--text);
}
/* --- 进入战场按钮特效 --- */
.login-box button {
    position: relative; overflow: hidden;
    padding: 15px 30px; font-size: 22px; cursor: pointer;
    background: var(--text); color: var(--bg); border: none;
    transition: 0.3s; z-index: 1;
}
/* Y2K 风格下的按钮闪烁 */
.theme-y2k .login-box button::before {
    content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.8), transparent);
    transform: rotate(45deg); animation: btnScan 3s infinite; z-index: -1;
}
@keyframes btnScan { 0% { left: -100%; } 100% { left: 100%; } }

/* --- 无感输入框：内嵌在卡片中 --- */
.transfer-area {
    max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out;
    display: flex; gap: 5px; margin-top: 10px; border-top: 1px dashed var(--border);
    padding-top: 0;
}
.transfer-area.active { max-height: 100px; padding-top: 10px; }

.quick-input {
    flex: 1; background: transparent; border: 1px solid var(--border);
    color: var(--text); padding: 8px; font-size: 18px; outline: none;
}
.quick-send-btn {
    background: var(--text); color: var(--bg); border: none;
    padding: 8px 15px; font-weight: bold; cursor: pointer;
}

/* 分区界限强化 */
.player-grid { display: grid; grid-template-columns: 1fr; gap: 15px; }
.player-card { border-left: 8px solid var(--border); background: rgba(0,0,0,0.05); }
/* --- 登录按钮易读性强化 --- */
.login-box button {
    width: 100%; padding: 18px; margin-top: 15px;
    font-size: 24px; font-weight: 900; letter-spacing: 2px;
    background: #000; color: #fff; /* 高对比度：黑底白字 */
    border: 3px solid var(--border);
    box-shadow: 0 0 20px var(--border); /* 呼吸灯特效 */
    cursor: pointer; position: relative;
}

.theme-palace .login-box button {
    background: #5a0000; color: #d4af37; /* 宫廷红底金字 */
    border: 3px double #d4af37;
}

/* --- 转账区布局修复 --- */
.player-card {
    display: flex; flex-direction: column; /* 改为纵向布局，防止挤压 */
    padding: 15px; background: rgba(255,255,255,0.1);
    border: 2px solid var(--border); margin-bottom: 15px;
    border-radius: 12px;
}

.card-top { display: flex; align-items: center; width: 100%; }

.transfer-area {
    display: none; /* 默认隐藏 */
    width: 100%; margin-top: 15px;
    padding-top: 15px; border-top: 1px dashed var(--border);
}
.transfer-area.active { display: flex; gap: 10px; }

.quick-input {
    flex: 1; height: 45px; padding: 0 10px;
    background: #fff; color: #000; border: 2px solid var(--border);
    font-size: 20px; font-weight: bold;
}

.quick-send-btn {
    height: 45px; padding: 0 20px;
    background: var(--border); color: #000;
    border: none; font-weight: 900;
}
